<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>clj-span.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Clj-span 1.0.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="clj-misc.matrix-ops.html"><span>clj-misc.matrix-ops</span></a></li><li><a href="clj-misc.memtest.html"><span>clj-misc.memtest</span></a></li><li><a href="clj-misc.numbers.html"><span>clj-misc.numbers</span></a></li><li><a href="clj-misc.point-algebra.html"><span>clj-misc.point-algebra</span></a></li><li><a href="clj-misc.randvars.html"><span>clj-misc.randvars</span></a></li><li><a href="clj-misc.stats.html"><span>clj-misc.stats</span></a></li><li><a href="clj-misc.utils.html"><span>clj-misc.utils</span></a></li><li><a href="clj-misc.varprop.html"><span>clj-misc.varprop</span></a></li><li><a href="clj-span.agents.html"><span>clj-span.agents</span></a></li><li><a href="clj-span.analyzer.html"><span>clj-span.analyzer</span></a></li><li><a href="clj-span.aries-span-bridge.html"><span>clj-span.aries-span-bridge</span></a></li><li><a href="clj-span.commandline.html"><span>clj-span.commandline</span></a></li><li class="current"><a href="clj-span.core.html"><span>clj-span.core</span></a></li><li><a href="clj-span.gui.html"><span>clj-span.gui</span></a></li><li><a href="clj-span.gui-simple.html"><span>clj-span.gui-simple</span></a></li><li><a href="clj-span.interface.html"><span>clj-span.interface</span></a></li><li><a href="clj-span.java-span-bridge.html"><span>clj-span.java-span-bridge</span></a></li><li><a href="clj-span.model-lang.html"><span>clj-span.model-lang</span></a></li><li><a href="clj-span.models.carbon.html"><span>clj-span.models.carbon</span></a></li><li><a href="clj-span.models.coastal-storm-protection.html"><span>clj-span.models.coastal-storm-protection</span></a></li><li><a href="clj-span.models.flood-water.html"><span>clj-span.models.flood-water</span></a></li><li><a href="clj-span.models.line-of-sight.html"><span>clj-span.models.line-of-sight</span></a></li><li><a href="clj-span.models.proximity.html"><span>clj-span.models.proximity</span></a></li><li><a href="clj-span.models.sediment.html"><span>clj-span.models.sediment</span></a></li><li><a href="clj-span.models.subsistence-fisheries.html"><span>clj-span.models.subsistence-fisheries</span></a></li><li><a href="clj-span.models.surface-water.html"><span>clj-span.models.surface-water</span></a></li><li><a href="clj-span.models.surface-water-stupid.html"><span>clj-span.models.surface-water-stupid</span></a></li><li><a href="clj-span.models.surface-water-topologic.html"><span>clj-span.models.surface-water-topologic</span></a></li><li><a href="clj-span.repl-utils.html"><span>clj-span.repl-utils</span></a></li><li><a href="clj-span.thinklab-monitor.html"><span>clj-span.thinklab-monitor</span></a></li><li><a href="clj-span.worldgen.html"><span>clj-span.worldgen</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="clj-span.core.html#var-distribute-flow%21"><span>distribute-flow!</span></a></li><li><a href="clj-span.core.html#var-generate-results-map"><span>generate-results-map</span></a></li><li><a href="clj-span.core.html#var-preprocess-data-layers"><span>preprocess-data-layers</span></a></li><li><a href="clj-span.core.html#var-run-span"><span>run-span</span></a></li><li><a href="clj-span.core.html#var-zero-layer-below-threshold"><span>zero-layer-below-threshold</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>clj-span.core documentation</h2><pre class="doc"></pre><div class="public" id="var-distribute-flow%21"><h3>distribute-flow!</h3><div class="usage"></div><pre class="doc">Creates a network of interconnected locations, and starts a
service-carrier propagating in every location whose source value is
greater than 0.  These carriers propagate child carriers through
the network which collect information about the routes traveled and
the service weight transmitted along these routes.  Over the course
of the simulation, this function will update the passed in
cache-layer, possible-flow-layer, and actual-flow-layer.  Its
return result is ignored.</pre></div><div class="public" id="var-generate-results-map"><h3>generate-results-map</h3><div class="usage"><code>(generate-results-map {:keys [value-type orig-rows orig-cols monitor], :as params})</code></div><pre class="doc">Return the simulation results as a map of layer names to closures.
</pre></div><div class="public" id="var-preprocess-data-layers"><h3>preprocess-data-layers</h3><div class="usage"><code>(preprocess-data-layers {:keys [source-layer sink-layer use-layer flow-layers source-threshold sink-threshold use-threshold cell-width cell-height downscaling-factor value-type monitor], :as params})</code></div><pre class="doc">Preprocess data layers (downsampling and zeroing below their thresholds).
</pre></div><div class="public" id="var-run-span"><h3>run-span</h3><div class="usage"><code>(run-span {:keys [result-type value-type source-layer sink-layer use-layer flow-layers], :as params})</code></div><pre class="doc">Run a flow model and return the results.
</pre></div><div class="public" id="var-zero-layer-below-threshold"><h3>zero-layer-below-threshold</h3><div class="usage"><code>(zero-layer-below-threshold value-type threshold layer)</code></div><pre class="doc">Takes a two dimensional array of RVs and replaces all values which
have a &gt;50% likelihood of being below the threshold with _0_.</pre></div></div></body></html>